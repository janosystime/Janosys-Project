<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relatório Demográfico - PMSJC</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body id="topo">
    <div class="page-wrapper">
      <header class="header-pmsjc">
        <img
          src="images/brasao.png"
          alt="Brasão de São José dos Campos"
          width="80"
        />

        <div class="header-text">
          <h1>Prefeitura Municipal de São José dos Campos</h1>
          <p style="text-align: center">
            Compromisso com a cidade e seus cidadãos
          </p>
        </div>
        <img
          src="images/bandeira.jpg"
          alt="Bandeira de São José dos Campos"
          width="80"
          id="bandeira"
        />
      </header>

      <main class="container my-4 flex-grow-1">
        <div class="graphic-card">
          <iframe src="./iframes/grafico_regioes.html" frameborder="0" width="800" height="600">
            Gráfico de Regiões
          </iframe>
        </div>
        <div class="stats-cards d-flex flex-wrap justify-content-center mb-4">
          <div class="card-stat text-center">
            <h4>697.054</h4>
            <p>População Total</p>
          </div>
          <div class="card-stat text-center">
            <h4>5,74%</h4>
            <p>Crianças (0-5)</p>
          </div>
          <div class="card-stat text-center">
            <h4>16,86%</h4>
            <p>Idosos (60+)</p>
          </div>
        </div>

        <section class="col-md-12 mx-auto border-start ps-4">
          <h3 class="text-center text-pmsjc mb-4">
            Dados Demográficos de População (Região x Faixa Etária)
          </h3>

          <div
            class="progress mb-3"
            data-tooltip="Zona Norte: 65.000 habitantes"
          >
            <div class="progress-bar azul" style="width: 65%">
              Zona Norte - 65%
            </div>
          </div>

          <div class="progress mb-3" data-tooltip="Zona Sul: 40.000 habitantes">
            <div class="progress-bar vermelho" style="width: 40%">
              Zona Sul - 40%
            </div>
          </div>
        </section>
      </main>

      <button
        class="btn-voltar-topo"
        onclick="window.scrollTo({top: 0, behavior: 'smooth'});"
      >
      </button>

      <footer class="footer-pmsjc text-center p-3">
        <span class="fw-bold">PMSJC</span> |
        <span class="fw-bold">JanoSys Technologies</span>
      </footer>
    </div>

    <script>
      document.querySelectorAll(".progress").forEach((bar) => {
        bar.addEventListener("mouseenter", (e) => {
          const tooltip = document.createElement("div");

          tooltip.className = "tooltip-custom";

          tooltip.innerText = bar.getAttribute("data-tooltip");
          document.body.appendChild(tooltip);

          const rect = bar.getBoundingClientRect();
          tooltip.style.left =
            rect.left + rect.width / 2 - tooltip.offsetWidth / 2 + "px";
          tooltip.style.top = rect.top - tooltip.offsetHeight - 8 + "px";
        });
        bar.addEventListener("mouseleave", () => {
          document
            .querySelectorAll(".tooltip-custom")
            .forEach((t) => t.remove());
        });
      });
    </script>
  </body>
</html>
